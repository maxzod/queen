"use strict";(self.webpackChunkqueen=self.webpackChunkqueen||[]).push([[152],{3905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>m});var l=t(7294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,l)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,l,n=function(e,a){if(null==e)return{};var t,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)t=r[l],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var s=l.createContext({}),u=function(e){var a=l.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},d=function(e){var a=u(e.components);return l.createElement(s.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return l.createElement(l.Fragment,{},a)}},c=l.forwardRef((function(e,a){var t=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=u(t),m=n,k=c["".concat(s,".").concat(m)]||c[m]||p[m]||r;return t?l.createElement(k,o(o({ref:a},d),{},{components:t})):l.createElement(k,o({ref:a},d))}));function m(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var r=t.length,o=new Array(r);o[0]=c;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var u=2;u<r;u++)o[u]=t[u];return l.createElement.apply(null,o)}return l.createElement.apply(null,t)}c.displayName="MDXCreateElement"},3273:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var l=t(7462),n=(t(7294),t(3905));const r={title:"Localization",sidebar_position:3},o=void 0,i={unversionedId:"localization",id:"localization",title:"Localization",description:"- Translation Loaders",source:"@site/docs/3_localization.md",sourceDirName:".",slug:"/localization",permalink:"/queen/docs/localization",draft:!1,editUrl:"https://github.com/FlutterQueen/queen/tree/master/docs/3_localization.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Localization",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Dependency Management",permalink:"/queen/docs/locators"},next:{title:"Themes",permalink:"/queen/docs/themes"}},s={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Assets",id:"assets",level:2},{value:"local json assets",id:"local-json-assets",level:2},{value:"multiple loaders at the same time",id:"multiple-loaders-at-the-same-time",level:2},{value:"<code>nation_assets</code> loader",id:"nation_assets-loader",level:3},{value:"String",id:"string",level:2},{value:"Gender",id:"gender",level:2},{value:"Arguments",id:"arguments",level:2},{value:"Pluralization",id:"pluralization",level:2},{value:"numbers",id:"numbers",level:2},{value:"baseLoader",id:"baseloader",level:2},{value:"loaders",id:"loaders",level:2},{value:"firstTimeLocale",id:"firsttimelocale",level:2},{value:"fallbackLocale",id:"fallbacklocale",level:2},{value:"supportedLocales",id:"supportedlocales",level:2},{value:"defaultGender",id:"defaultgender",level:2},{value:"not found family",id:"not-found-family",level:2},{value:"localize your Package",id:"localize-your-package",level:2},{value:"use package localization",id:"use-package-localization",level:2},{value:"override localization",id:"override-localization",level:2},{value:"override the pre built assets",id:"override-the-pre-built-assets",level:3},{value:"override a package",id:"override-a-package",level:3}],d={toc:u};function p(e){let{components:a,...t}=e;return(0,n.kt)("wrapper",(0,l.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#translation-loaders"},"Translation Loaders")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#translate-your-assets"},"translate your assets")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#translations"},"translations"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#string"},"String")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#gender"},"Gender")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#arguments"},"Arguments")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#pluralization"},"Pluralization")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#numbers"},"numbers")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#config"},"Config")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#options"},"options"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#baseloader"},"baseLoader")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#loaders"},"loaders")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#firsttimelocale"},"firstTimeLocale")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#fallbacklocale"},"fallbackLocale")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#supportedlocales"},"supportedLocales")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#defaultgender"},"defaultGender")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#not-found-family"},"not found family")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#packages-localization"},"Packages localization"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#localize-your-package"},"localize your Package")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#use-package-localization"},"use package localization")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#override-localization"},"override localization"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#override-the-pre-built-assets"},"override the pre built assets")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#override-a-package"},"override a package")))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#helpers"},"Helpers"))),(0,n.kt)("h2",{id:"introduction"},"Introduction"),(0,n.kt)("p",null,"Queen support localization out of the box with all localization feature you will need . but we will go through the process step by step from the scratch to remove in miss understanding"),(0,n.kt)("p",null,"the localization features in queen are all inside a package called ",(0,n.kt)("inlineCode",{parentName:"p"},"nations")),(0,n.kt)("h2",{id:"assets"},"Assets"),(0,n.kt)("p",null,"your app needs the translated assets to use within the app and we support different source for the assets if you have another source you can build yours assets loader by extending ",(0,n.kt)("inlineCode",{parentName:"p"},"NationsLoader")," class and build your custom loader"),(0,n.kt)("p",null,"you also can use more than one loader at the same time ,we will talk about why you might need it i a few seconds"),(0,n.kt)("h2",{id:"local-json-assets"},"local json assets"),(0,n.kt)("p",null,"if you have your assets as ",(0,n.kt)("inlineCode",{parentName:"p"},"json")," files and just want to use them , place them inside ",(0,n.kt)("inlineCode",{parentName:"p"},"assets/lang")," directory and make the language name is the file name"),(0,n.kt)("p",null,"for example"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"assets\\\n        lang\\\n                ar.json\n                en.json\n                fr.json\n")),(0,n.kt)("p",null,"and queen will load them for you , you don't need to worry about any loaders if so"),(0,n.kt)("h2",{id:"multiple-loaders-at-the-same-time"},"multiple loaders at the same time"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"nations")," support multiple loaders for your assets to open the door for awesome features like the below"),(0,n.kt)("h3",{id:"nation_assets-loader"},(0,n.kt)("inlineCode",{parentName:"h3"},"nation_assets")," loader"),(0,n.kt)("p",null,"this loader have commonly use assets already translated to more then 5 languages and ready to use\nthose words are detected by the ",(0,n.kt)("inlineCode",{parentName:"p"},"lighthouse")," CLI and you can add/remove them from your app by add/remove the loader from your config file only"),(0,n.kt)("h1",{id:"translation-loaders"},"Translation Loaders"),(0,n.kt)("p",null,"by default nations load assets from ",(0,n.kt)("inlineCode",{parentName:"p"},"assets/lang")," and it is the recommended way to do so,\nbut you can also load assets from anywhere you want maybe ",(0,n.kt)("inlineCode",{parentName:"p"},"API")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"Database")," or any data Source look below to know how to use custom loader"),(0,n.kt)("p",null,"by extending ",(0,n.kt)("inlineCode",{parentName:"p"},"NationsLoader")," class and impalement your own ",(0,n.kt)("inlineCode",{parentName:"p"},"load(Locale locale)")," function\nthen set these loader as baseLoader in your config file"),(0,n.kt)("h1",{id:"translate-your-assets"},"translate your assets"),(0,n.kt)("h1",{id:"translations"},"translations"),(0,n.kt)("h2",{id:"string"},"String"),(0,n.kt)("p",null,"use the ",(0,n.kt)("inlineCode",{parentName:"p"},".tr")," extension to translate a string"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-dart"}," 'welcome'.tr\n")),(0,n.kt)("h2",{id:"gender"},"Gender"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-dart"},"   /// * male translation\n  'person'.trMale\n   /// * female translation\n  'person'.trFemale\n   /// * default gender translation\n  'person'.gender\n")),(0,n.kt)("h2",{id:"arguments"},"Arguments"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'"max_length_is":"max length is :count"\n')),(0,n.kt)("p",null,"and in your code"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-dart"},"final msg = 'max_length_is'.args({\"count\":255});\n")),(0,n.kt)("h2",{id:"pluralization"},"Pluralization"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-dart"},"  'key'.plural(count,args)\n")),(0,n.kt)("h2",{id:"numbers"},"numbers"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-dart"},"'123'.toLocale()\n")),(0,n.kt)("p",null,"wil convert numbers to the current locale format"),(0,n.kt)("h1",{id:"config"},"Config"),(0,n.kt)("p",null,"contains your localization configurations and will be used by queen , override any option you want to fit your need"),(0,n.kt)("h1",{id:"options"},"options"),(0,n.kt)("h2",{id:"baseloader"},"baseLoader"),(0,n.kt)("p",null,"loads the app translations the default is to load assets form ",(0,n.kt)("inlineCode",{parentName:"p"},"assets/lang")," directory as described at ",(0,n.kt)("a",{parentName:"p",href:"#local-json-assets"},"local json assets")),(0,n.kt)("h2",{id:"loaders"},"loaders"),(0,n.kt)("p",null,"list your other loaders"),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"why don't add the ",(0,n.kt)("inlineCode",{parentName:"p"},"baseLoaders")," to the loaders list ?"),(0,n.kt)("p",{parentName:"admonition"},"because the base loader will be used last one to override any key form any other loader if need so your assets get the priority see ",(0,n.kt)("a",{parentName:"p",href:"#override-localization"}))),(0,n.kt)("h2",{id:"firsttimelocale"},"firstTimeLocale"),(0,n.kt)("p",null,"the locale to use when your app first time open by defaults it is the ",(0,n.kt)("inlineCode",{parentName:"p"},"os")," locale"),(0,n.kt)("h2",{id:"fallbacklocale"},"fallbackLocale"),(0,n.kt)("p",null,"if the firstTimeLocale is not supported in your assets queen will use the fallbackLocale as the first time locale\nso make sure the fall back locale is always supported"),(0,n.kt)("h2",{id:"supportedlocales"},"supportedLocales"),(0,n.kt)("p",null,"list your app supported locales"),(0,n.kt)("h2",{id:"defaultgender"},"defaultGender"),(0,n.kt)("p",null,"to be used every time you call ",(0,n.kt)("inlineCode",{parentName:"p"},"'some_key'.gender")," instead of placing if else every time you use it , it will be written once in the config file"),(0,n.kt)("h2",{id:"not-found-family"},"not found family"),(0,n.kt)("p",null,"if you are trying to translate a key and that key does not exists in your assets it would be a problem since we cant return ",(0,n.kt)("inlineCode",{parentName:"p"},"String?"),"\nthere must be an actual String value\nthe default behavior is to return a String contains ",(0,n.kt)("inlineCode",{parentName:"p"},"'null'")," in the debugging and return the actual key in production"),(0,n.kt)("p",null,"and you override that behavior by overriding this functions"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"notFound")," will be called if the modifier function is not overridden or if the modifier is ",(0,n.kt)("inlineCode",{parentName:"li"},".tr")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"notFoundPlural")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"notFoundArgs")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"notFoundGender"))),(0,n.kt)("h1",{id:"packages-localization"},"Packages localization"),(0,n.kt)("h2",{id:"localize-your-package"},"localize your Package"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"add your package translation in ",(0,n.kt)("inlineCode",{parentName:"li"},"assets/lang")," inside your package root folder"),(0,n.kt)("li",{parentName:"ul"},"build a loader to load your package with its very simple build a loader to load your package with ",(0,n.kt)("inlineCode",{parentName:"li"},"loadPackageTranslation")," function"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"when you are using the translation extension add you package name concatenated with ",(0,n.kt)("inlineCode",{parentName:"strong"},'"."')," to your key")),(0,n.kt)("li",{parentName:"ul"},"export your loader")),(0,n.kt)("h2",{id:"use-package-localization"},"use package localization"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"add the package loader to ",(0,n.kt)("inlineCode",{parentName:"li"},"loader")," list in ",(0,n.kt)("inlineCode",{parentName:"li"},"lib/config/lang.dart")," file")),(0,n.kt)("h2",{id:"override-localization"},"override localization"),(0,n.kt)("h3",{id:"override-the-pre-built-assets"},"override the pre built assets"),(0,n.kt)("p",null,"in ",(0,n.kt)("inlineCode",{parentName:"p"},"assets/lang/${lang}.json")," add the the keys you want to override and queen will use the new value from your assets"),(0,n.kt)("h3",{id:"override-a-package"},"override a package"),(0,n.kt)("p",null,"same as above but add the key inside the package name"),(0,n.kt)("p",null,"example :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'"package_name":{\n   "some_key" :"new value for this key"\n}\n')),(0,n.kt)("h1",{id:"helpers"},"Helpers"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"capitalizeFirstChar(String)")," to make the first word capital"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"capitalizeEachWord")," to make every word capital in one line more entire paragraph"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"numberToLocale(String,[Locale?])")," localize numbers based on locale")))}p.isMDXComponent=!0}}]);