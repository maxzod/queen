name: queen
repository: https://github.com/FlutterQueen/queen

packages:
  - packages/**

command:
  bootstrap:
    usePubspecOverrides: true
scripts:
  lint:
    run: melos run format && melos run analyze

  analyze:
    run: |
      melos exec -c 1 -- \
          dart analyze . --fatal-infos
  format:
    run: melos exec -c 1 -- \
      flutter format .
  test:
    run: |
      melos exec -c 1 --fail-fast -- \
        "flutter test"
    select-package:
      dir-exists:
        - test
      ignore:
        - "*example*"

  test_coverage:
    run: |
      melos exec -c 1 --fail-fast -- \
        "flutter test --coverage"
    select-package:
      dir-exists:
        - test
      ignore:
        - "*example*"
